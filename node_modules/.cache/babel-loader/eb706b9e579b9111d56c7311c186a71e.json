{"ast":null,"code":"import _regeneratorRuntime from\"D:/React/spotify-clone/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/React/spotify-clone/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/React/spotify-clone/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/React/spotify-clone/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/React/spotify-clone/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/React/spotify-clone/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import OutsideClickHandler from'react-outside-click-handler';import ScrubBar from'./components/scrubBar/scrubBar.jsx';import NavButton from'./components/navButton/navButton.jsx';import SearchModule from'./components/searchModule/searchModule.jsx';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={searchQuery:\"Example\",body:\"\",songs:[]};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.getSong();}},{key:\"getSong\",value:function(){var _getSong=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:5000/\".concat(this.state.searchQuery));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;console.log(data);this.state.songs=[];data.forEach(function(song){var songSchema={songName:\"\",songPicture:\"\",isSearching:false};songSchema.songName=song.result.full_title;songSchema.songPicture=song.result.song_art_image_thumbnail_url;var joined=_this2.state.songs.concat(songSchema);_this2.setState({songs:joined});});console.log(this.state.songs);case 10:case\"end\":return _context.stop();}}},_callee,this);}));function getSong(){return _getSong.apply(this,arguments);}return getSong;}()},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener('click',this.handleClickOutside);}},{key:\"handleClickOutside\",value:function handleClickOutside(e){if(this.state.isSearching){this.setState({isSearching:false});}}},{key:\"handleSearch\",value:function handleSearch(e){var _this3=this;console.log(e.target.value);this.setState({searchQuery:e.target.value},function(){_this3.getSong();});}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(OutsideClickHandler,{onOutsideClick:function onOutsideClick(e){return _this4.handleClickOutside();},children:/*#__PURE__*/_jsx(SearchModule,{onChange:function onChange(e){return _this4.handleSearch(e);},isVisible:this.state.isSearching})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sideNav\",children:[/*#__PURE__*/_jsx(NavButton,{text:\"Home\"}),/*#__PURE__*/_jsx(NavButton,{text:\"Search\",onClick:function onClick(){return _this4.setState({isSearching:!_this4.state.isSearching},function(){console.log(_this4.state.isSearching);});}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:this.state.songs.map(function(song){return/*#__PURE__*/_jsxs(\"div\",{className:\"contentItem\",children:[/*#__PURE__*/_jsx(\"img\",{src:song.songPicture,className:\"contentItemPicture\"}),/*#__PURE__*/_jsx(\"div\",{className:\"contentItemName\",children:song.songName})]});})}),/*#__PURE__*/_jsx(ScrubBar,{className:\"scrubBar\"})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["D:/React/spotify-clone/client/src/App.js"],"names":["React","Component","OutsideClickHandler","ScrubBar","NavButton","SearchModule","App","props","state","searchQuery","body","songs","getSong","fetch","response","json","data","console","log","forEach","song","songSchema","songName","songPicture","isSearching","result","full_title","song_art_image_thumbnail_url","joined","concat","setState","document","removeEventListener","handleClickOutside","e","target","value","handleSearch","map"],"mappings":"quBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,mBAAP,KAAgC,6BAAhC,CACA,MAAOC,CAAAA,QAAP,KAAqB,oCAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,sCAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4CAAzB,C,GAEMC,CAAAA,G,0FAEJ,aAAYC,KAAZ,CAAmB,qCACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,WAAW,CAAE,SADF,CAEXC,IAAI,CAAE,EAFK,CAGXC,KAAK,CAAE,EAHI,CAAb,CAHiB,aAQlB,C,6EAEmB,CAClB,KAAKC,OAAL,GACD,C,kSAIwBC,CAAAA,KAAK,iCAA0B,KAAKL,KAAL,CAAWC,WAArC,E,QAAtBK,Q,qCACaA,CAAAA,QAAQ,CAACC,IAAT,E,QAAbC,I,eAENC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,KAAKR,KAAL,CAAWG,KAAX,CAAmB,EAAnB,CAEAK,IAAI,CAACG,OAAL,CAAa,SAAAC,IAAI,CAAI,CAEnB,GAAMC,CAAAA,UAAU,CAAG,CACjBC,QAAQ,CAAE,EADO,CAEjBC,WAAW,CAAE,EAFI,CAGjBC,WAAW,CAAE,KAHI,CAAnB,CAMAH,UAAU,CAACC,QAAX,CAAsBF,IAAI,CAACK,MAAL,CAAYC,UAAlC,CACAL,UAAU,CAACE,WAAX,CAAyBH,IAAI,CAACK,MAAL,CAAYE,4BAArC,CAEA,GAAIC,CAAAA,MAAM,CAAG,MAAI,CAACpB,KAAL,CAAWG,KAAX,CAAiBkB,MAAjB,CAAwBR,UAAxB,CAAb,CACA,MAAI,CAACS,QAAL,CAAc,CAACnB,KAAK,CAAEiB,MAAR,CAAd,EACD,CAbD,EAeAX,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWG,KAAvB,E,8MAIqB,CACrBoB,QAAQ,CAACC,mBAAT,CAA6B,OAA7B,CAAsC,KAAKC,kBAA3C,EACD,C,8DAEkBC,C,CAAG,CACpB,GAAG,KAAK1B,KAAL,CAAWgB,WAAd,CAA0B,CACxB,KAAKM,QAAL,CAAc,CAACN,WAAW,CAAE,KAAd,CAAd,EACD,CACF,C,kDAEYU,C,CAAG,iBACdjB,OAAO,CAACC,GAAR,CAAYgB,CAAC,CAACC,MAAF,CAASC,KAArB,EACA,KAAKN,QAAL,CAAc,CAACrB,WAAW,CAAEyB,CAAC,CAACC,MAAF,CAASC,KAAvB,CAAd,CAA6C,UAAM,CACjD,MAAI,CAACxB,OAAL,GACD,CAFD,EAGD,C,uCAEQ,iBACP,mBACE,aAAK,SAAS,CAAC,MAAf,wBAEA,KAAC,mBAAD,EAAqB,cAAc,CAAE,wBAACsB,CAAD,QAAO,CAAA,MAAI,CAACD,kBAAL,EAAP,EAArC,uBACE,KAAC,YAAD,EAAc,QAAQ,CAAE,kBAACC,CAAD,QAAO,CAAA,MAAI,CAACG,YAAL,CAAkBH,CAAlB,CAAP,EAAxB,CAAqD,SAAS,CAAE,KAAK1B,KAAL,CAAWgB,WAA3E,EADF,EAFA,cAME,aAAK,SAAS,CAAC,SAAf,wBACE,KAAC,SAAD,EAAW,IAAI,CAAC,MAAhB,EADF,cAEE,KAAC,SAAD,EAAW,IAAI,CAAC,QAAhB,CAAyB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACM,QAAL,CAAc,CAACN,WAAW,CAAE,CAAC,MAAI,CAAChB,KAAL,CAAWgB,WAA1B,CAAd,CAAsD,UAAM,CAClGP,OAAO,CAACC,GAAR,CAAY,MAAI,CAACV,KAAL,CAAWgB,WAAvB,EACD,CAFuC,CAAN,EAAlC,EAFF,GANF,cAaE,YAAK,SAAS,CAAC,SAAf,UAEI,KAAKhB,KAAL,CAAWG,KAAX,CAAiB2B,GAAjB,CAAqB,SAAAlB,IAAI,qBACzB,aAAK,SAAS,CAAC,aAAf,wBACE,YAAK,GAAG,CAAEA,IAAI,CAACG,WAAf,CAA4B,SAAS,CAAC,oBAAtC,EADF,cAEE,YAAK,SAAS,CAAC,iBAAf,UAAkCH,IAAI,CAACE,QAAvC,EAFF,GADyB,EAAzB,CAFJ,EAbF,cAwBE,KAAC,QAAD,EAAU,SAAS,CAAC,UAApB,EAxBF,GADF,CA6BD,C,iBA1FerB,S,EA8FlB,cAAeK,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport OutsideClickHandler from 'react-outside-click-handler';\nimport ScrubBar from './components/scrubBar/scrubBar.jsx';\nimport NavButton from './components/navButton/navButton.jsx';\nimport SearchModule from './components/searchModule/searchModule.jsx';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchQuery: \"Example\",\n      body: \"\",\n      songs: [],\n    }\n  }\n\n  componentDidMount() {\n    this.getSong();\n  }\n\n  async getSong() {\n\n    const response = await fetch(`http://localhost:5000/${this.state.searchQuery}`)\n    const data = await response.json()\n\n    console.log(data);\n    this.state.songs = [];\n\n    data.forEach(song => {\n\n      const songSchema = {\n        songName: \"\",\n        songPicture: \"\",\n        isSearching: false\n      }\n\n      songSchema.songName = song.result.full_title;\n      songSchema.songPicture = song.result.song_art_image_thumbnail_url;\n\n      let joined = this.state.songs.concat(songSchema)\n      this.setState({songs: joined})\n    })\n\n    console.log(this.state.songs);\n\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.handleClickOutside)\n  }\n\n  handleClickOutside(e) {\n    if(this.state.isSearching){\n      this.setState({isSearching: false})\n    }\n  }\n\n  handleSearch(e) {\n    console.log(e.target.value);\n    this.setState({searchQuery: e.target.value}, () => {\n      this.getSong();\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"main\">\n\n      <OutsideClickHandler onOutsideClick={(e) => this.handleClickOutside()}>\n        <SearchModule onChange={(e) => this.handleSearch(e)} isVisible={this.state.isSearching}/>\n      </OutsideClickHandler>\n\n        <div className=\"sideNav\">\n          <NavButton text=\"Home\" />\n          <NavButton text=\"Search\" onClick={() => this.setState({isSearching: !this.state.isSearching}, () => {\n            console.log(this.state.isSearching);\n          })} />\n        </div>\n\n        <div className=\"content\">\n          {\n            this.state.songs.map(song =>\n            <div className=\"contentItem\">\n              <img src={song.songPicture} className=\"contentItemPicture\"></img>\n              <div className=\"contentItemName\">{song.songName}</div>\n            </div>\n          )\n          }\n        </div>\n\n        <ScrubBar className=\"scrubBar\" />\n\n      </div>\n    );\n  }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}